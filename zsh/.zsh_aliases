# git force simple
alias gfs='
git add .
git_status=$(git -c color.status=false status)
message=$(echo "$git_status" | \
  sed -n -r \
    -e "1,/Changes to be committed:/ d" \
    -e "1,1 d" -e "/^Untracked files:/,$ d" \
    -e "s/^\s*//" \
    -e "/^.*git restore/ d" \
    -e "/./p")
echo "$message"
git commit -m "$message"
sleep 0.1
git push
'

alias gf='
git add .
git_status=$(git -c color.status=false status)
message=$(git diff --staged | ttok -t 3000 | llm -s "Write a commit message for the following diff. Limit your response to 50 characters:" )
echo "Suggested commit message: $message"
echo -n "Use this message? (y/n) [y]: "
read confirm
confirm=${confirm:-y}
if [[ $confirm =~ ^[Yy]$ ]]; then
    git commit -m "$message"
    sleep 0.1
    git push
else
    echo "Commit and push cancelled. You can manually commit with your desired message."
fi
'
